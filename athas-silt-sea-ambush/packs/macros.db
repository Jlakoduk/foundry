{"_id": "macro-relink-ambush-001", "name": "Relink Ambush Tokens", "type": "script", "img": "icons/svg/anchor.svg", "scope": "global", "command": "const scene = canvas.scene;\nif (!scene) return ui.notifications.warn('No active scene.');\nconst worldActors = Array.from(game.actors);\nconst byName = (n)=> worldActors.find(a=>a.name===n);\nlet relinked=0;\nfor (const td of scene.tokens) {\n  const nm = td.name;\n  const a = byName(nm);\n  if (a) {\n    await td.update({actorId: a.id, actorLink: false});\n    relinked++;\n  }\n}\nui.notifications.info(`Relinked ${relinked} tokens by name.`);\n", "author": "m365copilot", "flags": {}}
